<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Cycling Calendar</title>
        <meta
            name="description"
            content="Sync your cycling calendar with your personal calendar"
        />
        <meta name="keywords" content="calendar, ics, CPE, apple, google" />
        <meta name="author" content="https://github.com/loan-mgt" />
        <meta property="og:title" content="Cycling Calendar" />
        <meta
            property="og:description"
            content="Sync your cycling calendar with your personal calendar"
        />
        <meta property="og:image" content="/static/banner.png" />
        <meta property="og:url" content="https://cpe-cal.for-loop.fr" />
        <meta property="og:type" content="website" />
        <link rel="icon" href="/static/favicon.svg" type="image/svg+xml" />
        <link rel="stylesheet" href="/static/styles.css" />
    </head>

    <body>
        <header>
            <nav>
                <img src="/static/logo.svg" />

                <ul class="pc-nav">
                    <li><a href="#about">About</a></li>
                    <li><a href="#affiliation">Affiliation</a></li>
                </ul>
                <ul>
                    <li>
                        <a href="https://github.com/loan-mgt/cycling-calendar"
                            >Source Code</a
                        >
                    </li>
                    <li>
                        <a class="btn-secondary" href="#get-calendar"
                            >Get URL</a
                        >
                    </li>
                </ul>
            </nav>
        </header>

        <main>
            <section class="hero">
                <h1>Sync your cycling calendar with your phone</h1>
                <p>
                    Stay informed of any schedule changes effortlessly and
                    easily access your next classroom
                </p>
                <button onclick="copyLink()" class="btn-primary btn-hero">
                    <img src="/static/logo.svg" />
                    <span>Get your calendar</span>
                </button>
            </section>

            <section id="about" class="about">
                <h2>About</h2>
                <p>
                    The goal of the Cycling Calendar is to provide every student
                    with simple and effortless access to their schedule by
                    connecting their school calendar to their personal calendar.
                    It works on all devices—phone, computer, laptop— and with
                    any type of device, including Apple and Android.
                </p>
                <p>
                    The calendar will automatically update on your device every
                    hour, allowing you to stay informed of any schedule changes.
                </p>
                <p>
                    This project is open-source. If at any time you notice a
                    problem or a missing feature, feel free to contact us and
                    share it on GitHub.
                </p>
            </section>

            <section id="affiliation" class="affiliation">
                <h2>Affiliation</h2>
                <p>
                    This project is entirely independent and is not affiliated
                    with any school or organization.
                </p>
            </section>
        </main>

        <footer>
            <div>
                <p>Cycling Calendar</p>
                <a
                    class="btn-secondary"
                    href="https://github.com/loan-mgt/cycling-calendar"
                    >Source Code</a
                >
            </div>
        </footer>
        <div id="toast">Link copied to clipboard!</div>
        <script src="/static/encryption.js"></script>
        <script>
            let url = window.location.origin + "/cycling-calendar.ics";

            function copyLink() {
                navigator.clipboard
                    .writeText(url)
                    .then(() => {
                        showToast("success", "Link copied successfully!");
                    })
                    .catch((err) => {
                        console.error("Failed to copy text: ", err);
                    });
            }

            function showToast(type, message) {
                const toast = document.getElementById("toast");
                toast.innerText = message;
                if (type === "error") {
                    toast.classList.add("error");
                    toast.classList.remove("success");
                } else if (type === "success") {
                    toast.classList.add("success");
                    toast.classList.remove("error");
                }

                toast.classList.add("show");
                setTimeout(() => {
                    toast.className = toast.className.replace("show", "");
                }, 3000);
            }
        </script>
    </body>
</html>
